<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>DGI Member Login</title>

  <link rel="stylesheet" href="css/styles.css" />

  <!-- Auth0 Lock Script -->
  <script src="https://cdn.auth0.com/js/lock/11.34/lock.min.js"></script>

  <style>
    /* LOGIN CARD */
    .login-box {
      max-width: 360px;
      margin: 3rem auto;
      background: white;
      padding: 2rem 1.75rem;
      border-radius: 10px;
      box-shadow: 0 4px 20px rgba(0,0,0,0.12);
      text-align: center;
    }

    .crest-login {
      width: 140px;
      margin: 0 auto 1rem;
      filter: drop-shadow(0 0 6px rgba(0,0,0,0.25));
    }

    .chapter-passcode-box {
      margin-bottom: 20px;
    }

    #chapter-passcode {
      width: 100%;
      padding: 10px;
      border: 1px solid #ccc;
      border-radius: 6px;
      margin-bottom: 8px;
      font-size: 0.95rem;
    }

    #submit-passcode {
      width: 100%;
      padding: 10px;
      background: #7A0E19;
      border: none;
      color: white;
      border-radius: 6px;
      font-size: 1rem;
      cursor: pointer;
      margin-bottom: 10px;
    }

    #submit-passcode:hover {
      background: #5a0a13;
    }

    #auth0-login-box {
      display: none; /* Hidden until passcode is correct */
      margin-top: 10px;
    }

    .error-msg {
      color: #b30000;
      font-size: 0.9rem;
      margin-top: 8px;
    }

    .footer-spacer {
      height: 40px;
    }
  </style>
</head>

<body>

  <!-- HEADER -->
  <header class="site-header">
    <div class="top-bar">
      <span>1965</span>
      <span>1998</span>
    </div>

    <div class="header-main">
      <div class="greek-letters">
        <span>Δ</span>
        <span>Γ</span>
        <span>Ι</span>
      </div>
      <div class="chapter-name">
        <span>DELTA</span>
        <span>GAMMA</span>
        <span>IOTA</span>
      </div>
    </div>

    <button class="mobile-menu-toggle" onclick="toggleMobileMenu()">☰</button>

   <nav id="main-nav" class="main-nav">
  <a href="index.html">Home</a>
  <a href="cardinal-beliefs.html">Beliefs</a>
  <a href="philanthropy.html">Philanthropy</a>
  <a href="community-service.html">Community Service</a>
  <a href="executive-council.html">Executive Council</a>
  <a href="shop.html">Shop</a>
  <a href="dues-donations.html">Dues & Donations</a>
  <a href="login.html" class="active">Login</a>
</nav>

  </header>



  <!-- LOGIN CONTENT -->
  <main>
    <div class="login-box">

      <!-- Crest -->
      <img src="assets/crest.png" alt="Delta Gamma Iota Crest" class="crest-login" />

      <h2 style="color:#7A0E19; margin-bottom: 6px;">Member Login</h2>
      <p style="font-size:.9rem; color:#555; margin-bottom:18px;">
        Active Members & DGI Alumni Only
      </p>

      <!-- CHAPTER PASSCODE -->
      <div id="passcode-section" class="chapter-passcode-box">
        <input id="chapter-passcode" type="password" placeholder="Chapter Passcode" />
        <button id="submit-passcode">Continue</button>
        <div id="passcode-error" class="error-msg" style="display:none;">
          Incorrect chapter passcode.
        </div>
      </div>

      <!-- AUTH0 LOGIN -->
      <div id="auth0-login-box"></div>

    </div>

    <div class="footer-spacer"></div>
  </main>



  <!-- FOOTER -->
  <footer class="site-footer">
  <div class="footer-inner">

    <div class="footer-title">Contact Us</div>

    <div class="footer-contact">

      <a href="mailto:deltagammaiota2@gmail.com">
        <img src="assets/mail.png" class="icon" alt="Email Icon">
        deltagammaiota2@gmail.com
      </a>

      <a href="https://www.instagram.com/deltagammaiota" target="_blank">
        <img src="assets/instagram.webp" class="icon" alt="Instagram Icon">
        Instagram
      </a>

      <a href="https://www.linkedin.com/company/delta-gamma-iota/" target="_blank">
        <img src="assets/linkedin.webp" class="icon" alt="LinkedIn Icon">
        LinkedIn
      </a>

    </div>

    <div class="footer-copy">
      © 2025 Delta Gamma Iota — All Rights Reserved
    </div>

  </div>
</footer>




  <!-- AUTH0 INITIALIZATION -->
  <script>
    const lock = new Auth0Lock(
      "xjYAzMY8g40A6QiRUcJpeIyWGxMqzA2V",
      "dev-hu8eek57hiyfzcts.us.auth0.com",
      {
        container: "auth0-login-box",
        theme: { primaryColor: "#7A0E19" },
        auth: {
          redirectUrl: "https://deltagammaiota.netlify.app/members/dashboard.html",
          responseType: "token id_token",
          params: { scope: "openid profile email" }
        },
        allowSignUp: false
      }
    );

    /* ---- PASSCODE LOGIC ---- */
    const PASSCODE = "1965"; // ← Replace with real passcode

    document.getElementById("submit-passcode").onclick = function () {
      const entered = document.getElementById("chapter-passcode").value.trim();

      if (entered === PASSCODE) {
        document.getElementById("passcode-error").style.display = "none";
        document.getElementById("passcode-section").style.display = "none";

        // Show Auth0 lock
        document.getElementById("auth0-login-box").style.display = "block";
        lock.show();
      } else {
        document.getElementById("passcode-error").style.display = "block";
      }
    };
  </script>

  <script>
    function toggleMobileMenu() {
      document.getElementById('main-nav').classList.toggle('open');
    }
  </script>

</body>
</html>
